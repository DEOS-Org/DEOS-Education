<div class="premium-sidebar">
  <!-- Elegant Header Section -->
  <div class="sidebar-header">
    <div class="brand-container">
      <div class="brand-icon">
        <mat-icon>auto_stories</mat-icon>
      </div>
      <div class="brand-text">
        <h1 class="brand-title">BioFirma</h1>
        <p class="brand-subtitle">v4 Education</p>
      </div>
    </div>
    <div class="header-decoration"></div>
  </div>

  <!-- Navigation Menu -->
  <nav class="navigation-menu">
    <div class="menu-section" *ngFor="let item of getFilteredMenuItems()">
      
      <!-- Expandable Menu Items -->
      <div *ngIf="item.children && getFilteredChildren(item.children).length > 0" 
           class="menu-group">
        <div class="menu-group-header" 
             (click)="toggleGroup(item.label)"
             [class.expanded]="expandedGroups.has(item.label)">
          <div class="menu-group-icon">
            <mat-icon>{{ item.icon }}</mat-icon>
          </div>
          <span class="menu-group-label">{{ item.label }}</span>
          <mat-icon class="expand-arrow" 
                    [class.rotated]="expandedGroups.has(item.label)">
            keyboard_arrow_down
          </mat-icon>
        </div>
        
        <div class="submenu-container" 
             [class.expanded]="expandedGroups.has(item.label)">
          <div class="submenu-items">
            <a *ngFor="let child of getFilteredChildren(item.children)"
               [routerLink]="child.route"
               routerLinkActive="active-submenu-item"
               class="submenu-item">
              <div class="submenu-icon">
                <mat-icon>{{ child.icon }}</mat-icon>
              </div>
              <span class="submenu-label">{{ child.label }}</span>
              <div class="submenu-indicator"></div>
            </a>
          </div>
        </div>
      </div>

      <!-- Direct Menu Items -->
      <a *ngIf="!item.children && item.route"
         [routerLink]="item.route"
         routerLinkActive="active-menu-item"
         class="menu-item">
        <div class="menu-item-icon">
          <mat-icon>{{ item.icon }}</mat-icon>
        </div>
        <span class="menu-item-label">{{ item.label }}</span>
        <div class="menu-item-indicator"></div>
      </a>
    </div>
  </nav>

  <!-- Footer Section -->
  <div class="sidebar-footer">
    <div class="user-info">
      <div class="user-avatar">
        <mat-icon>account_circle</mat-icon>
      </div>
      <div class="user-details">
        <p class="user-name">Administrador</p>
        <p class="user-role">Sistema</p>
      </div>
    </div>
    <button mat-icon-button class="settings-button" matTooltip="ConfiguraciÃ³n">
      <mat-icon>settings</mat-icon>
    </button>
  </div>
</div>
